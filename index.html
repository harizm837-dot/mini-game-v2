<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8" />
<title>AZHUR GAME</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  background: #111;
  color: #fff;
  margin: 0;
}
h1 { margin-top: 10px; }
button {
  padding: 10px 16px;
  margin: 5px;
  font-size: 16px;
}
#game {
  position: relative;
  width: 100%;
  height: 70vh;
  background: #222;
  overflow: hidden;
}
.star, .boss {
  position: absolute;
  cursor: pointer;
}
.star {
  font-size: 32px;
}
.boss {
  font-size: 60px;
}
#panel {
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
}
.hidden { display: none; }
</style>
</head>

<body>
<h1>‚≠ê AZHUR GAME ‚≠ê</h1>

<div id="panel">
  <div>“Æ–µ: <span id="level">1</span></div>
  <div>–û–Ω–æ–æ: <span id="score">0</span></div>
  <div>‚ù§Ô∏è <span id="life">3</span></div>
  <div>üèÜ High: <span id="high">0</span></div>
</div>

<div>
  Difficulty:
  <button onclick="setDifficulty(1)">Easy</button>
  <button onclick="setDifficulty(2)">Medium</button>
  <button onclick="setDifficulty(3)">Hard</button>
  <button onclick="toggleSound()">üîä</button>
</div>

<div id="game"></div>

<button onclick="startGame()">‚ñ∂ Start</button>

<audio id="sndStar" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="sndBoss" src="https://actions.google.com/sounds/v1/cartoon/creature_roar.ogg"></audio>
<audio id="sndOver" src="https://actions.google.com/sounds/v1/cartoon/descending_whistle.ogg"></audio>

<script>
let score = 0;
let level = 1;
let life = 3;
let difficulty = 1;
let soundOn = true;
let gameArea = document.getElementById("game");
let highScore = localStorage.getItem("azhurHigh") || 0;

document.getElementById("high").innerText = highScore;

function playSound(id){
  if(soundOn) document.getElementById(id).play();
}

function toggleSound(){
  soundOn = !soundOn;
}

function setDifficulty(d){
  difficulty = d;
}

function startGame(){
  score = 0;
  level = 1;
  life = 3;
  updateUI();
  nextLevel();
}

function updateUI(){
  document.getElementById("score").innerText = score;
  document.getElementById("level").innerText = level;
  document.getElementById("life").innerText = life;
}

function nextLevel(){
  gameArea.innerHTML = "";
  let count = level * difficulty;

  if(level % 5 === 0){
    spawnBoss();
    return;
  }

  for(let i=0;i<count;i++){
    spawnStar();
  }
}

function spawnStar(){
  let star = document.createElement("div");
  star.className = "star";
  star.innerText = "‚≠ê";
  star.style.left = Math.random()*90 + "%";
  star.style.top = Math.random()*90 + "%";

  star.onclick = () => {
    playSound("sndStar");
    score += 10;
    star.remove();
    checkClear();
  };

  gameArea.appendChild(star);
}

function spawnBoss(){
  let boss = document.createElement("div");
  boss.className = "boss";
  boss.innerText = "üëæ";
  boss.style.left = "40%";
  boss.style.top = "40%";
  let hp = 5 + difficulty;

  playSound("sndBoss");

  boss.onclick = () => {
    hp--;
    score += 20;
    if(hp <= 0){
      boss.remove();
      level++;
      updateUI();
      nextLevel();
    }
  };

  gameArea.appendChild(boss);
}

function checkClear(){
  if(gameArea.children.length === 0){
    level++;
    updateUI();
    nextLevel();
  }
}

function gameOver(){
  playSound("sndOver");
  if(score > highScore){
    localStorage.setItem("azhurHigh", score);
  }
  alert("Game Over üò¢\nScore: " + score);
}
</script>
</body>
</html>
